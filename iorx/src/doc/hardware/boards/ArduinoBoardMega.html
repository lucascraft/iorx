<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><link
 media="all" href="ArduinoBoardMega_fichiers/widget43.css" 
type="text/css" rel="stylesheet">


  <title>Arduino - ArduinoBoardMega </title>
  <link rel="shortcut icon" type="image/x-icon" 
href="http://arduino.cc/favicon.png">
  <link rel="stylesheet" href="ArduinoBoardMega_fichiers/arduino.css" 
type="text/css">
  <meta name="verify-v1" 
content="TtxFIEJAB6zdJ509wLxjnapQzKAMNm9u0Wj4ho6wxIY=">
</head><body><div id="_atssh" style="visibility: hidden; height: 1px; 
width: 1px; position: absolute; z-index: 100000;"><iframe 
src="ArduinoBoardMega_fichiers/sh23.html" style="height: 1px; width: 
1px; position: absolute; z-index: 100000; border: 0pt none; left: 0pt; 
top: 0pt;" id="_atssh144"></iframe></div>
<div id="page">
<!--PageHeaderFmt-->
<div id="pageheader">
  <div class="title"><a href="http://arduino.cc/en">Arduino</a></div>
  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="http://www.google.com/search">
    <input name="ie" value="UTF-8" type="hidden">
    <input name="oe" value="UTF-8" type="hidden">
    <input name="q" size="25" maxlength="255" type="text">
    <input name="btnG" value="search" type="submit">
    <input name="domains" value="http://www.arduino.cc/" type="hidden">
    <input name="sitesearch" value="http://www.arduino.cc/" 
type="hidden">
    </form>
    <!-- SiteSearch Google -->
  </div>
</div>
<!--/PageHeaderFmt-->
<!--PageLeftFmt-->
<div id="pagenav" style="text-align: right;">
  <div style="float: left;">
  <p><a class="wikilink" href="http://arduino.cc/en/Main/Buy">Buy</a>
|
<a class="wikilink" href="http://arduino.cc/en/Main/Software">Download</a>
|
<a class="wikilink" href="http://arduino.cc/en/Guide/HomePage">Getting 
Started</a>
|
<a class="wikilink" href="http://arduino.cc/en/Tutorial/HomePage">Learning</a>
|
<a class="wikilink" href="http://arduino.cc/en/Reference/HomePage">Reference</a>
|
<a class="wikilink" href="http://arduino.cc/en/Main/Hardware">Hardware</a>
|
<a class="wikilink" href="http://arduino.cc/en/Main/FAQ">FAQ</a>
</p>
<p class="vspace"></p>

  </div>
  <a class="urllink" href="http://www.arduino.cc/blog/" rel="nofollow">Blog
 »</a> |
  <a class="urllink" href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl" 
rel="nofollow">Forum »</a> |
  <a class="urllink" href="http://www.arduino.cc/playground/" 
rel="nofollow">Playground »</a>
</div>
<!--/PageLeftFmt-->
<div id="pagetext">
<!--PageText-->
<div id="wikitext">
<h2>Arduino Mega</h2>
<div><img src="ArduinoBoardMega_fichiers/ArduinoMega.jpg" alt="" 
title=""></div>
<p class="vspace"></p><h3>Overview</h3>
<p>The Arduino Mega is a microcontroller board based on the <span 
class="wikiword">ATmega1280</span>  (<a class="urllink" 
href="http://www.atmel.com/dyn/resources/prod_documents/doc2549.pdf" 
rel="nofollow">datasheet</a>).  It has 54 digital input/output pins (of 
which 14 can be used as PWM outputs), 16 analog inputs, 4 <span 
class="wikiword">UARTs</span> (hardware serial ports), a 16 <span 
class="wikiword">MHz</span> crystal oscillator, a USB connection, a 
power jack, an ICSP header, and a reset button.  It contains everything 
needed to support the microcontroller; simply connect it to a computer 
with a USB cable or power it with a AC-to-DC adapter or battery to get 
started.  The Mega is compatible with most shields designed for the 
Arduino Duemilanove or Diecimila.
</p>
<p class="vspace"></p><h3>Schematic &amp; Reference Design</h3>
<p>EAGLE files: <a class="urllink" 
href="http://arduino.cc/en/uploads/Main/arduino-mega-reference-design.zip"
 rel="nofollow">arduino-mega-reference-design.zip</a>
</p>
<p class="vspace"></p><p>Schematic: <a class="urllink" 
href="http://arduino.cc/en/uploads/Main/arduino-mega-schematic.pdf" 
rel="nofollow">arduino-mega-schematic.pdf</a>
</p>
<p class="vspace"></p><h3>Summary</h3>
<table border="0"><tbody><tr><td align="left">Microcontroller</td><td 
align="left"><span class="wikiword">ATmega1280</span></td></tr>
<tr><td align="left">Operating Voltage</td><td align="left">5V</td></tr>
<tr><td align="left">Input Voltage (recommended)</td><td align="left">7-12V</td></tr>
<tr><td align="left">Input Voltage (limits)</td><td align="left">6-20V</td></tr>
<tr><td align="left">Digital I/O Pins</td><td align="left">54  (of which
 14 provide PWM output)</td></tr>
<tr><td align="left">Analog Input Pins</td><td align="left">16</td></tr>
<tr><td align="left">DC Current per I/O Pin</td><td align="left">40 mA</td></tr>
<tr><td align="left">DC Current for 3.3V Pin</td><td align="left">50 mA</td></tr>
<tr><td align="left">Flash Memory</td><td align="left">128 KB of which 4
 KB used by bootloader</td></tr>
<tr><td align="left">SRAM</td><td align="left">8 KB</td></tr>
<tr><td align="left">EEPROM</td><td align="left">4 KB</td></tr>
<tr><td align="left">Clock Speed</td><td align="left">16 <span 
class="wikiword">MHz</span></td></tr>
</tbody></table>
<p class="vspace"></p><h3>Power</h3>
<p>The Arduino Mega can be powered via the USB connection or with an 
external power supply.  The power source is selected automatically.
</p>
<p class="vspace"></p><p>External (non-USB) power can come either from 
an AC-to-DC adapter (wall-wart) or battery.  The adapter can be 
connected by plugging a 2.1mm center-positive plug into the board's 
power jack.  Leads from a battery can be inserted in the Gnd and Vin pin
 headers of the POWER connector.  
</p>
<p class="vspace"></p><p>The board can operate on an external supply of 6
 to 20 volts.  If supplied with less than 7V, however, the 5V pin may 
supply less than five volts and the board may be unstable.  If using 
more than 12V, the voltage regulator may overheat and damage the board. 
 The recommended range is 7 to 12 volts.
</p>
<p class="vspace"></p><p>The power pins are as follows:
</p>
<p class="vspace"></p><ul><li><strong>VIN.</strong>  The input voltage 
to the Arduino board when it's using an external power source (as 
opposed to 5 volts from the USB connection or other regulated power 
source).  You can supply voltage through this pin, or, if supplying 
voltage via the power jack, access it through this pin.  
<p class="vspace"></p></li><li><strong>5V.</strong> The regulated power 
supply used to power the microcontroller and other components on the 
board.  This can come either from VIN via an on-board regulator, or be 
supplied by USB or another regulated 5V supply.
<p class="vspace"></p></li><li><strong>3V3.</strong>  A 3.3 volt supply 
generated by the on-board FTDI chip.  Maximum current draw is 50 mA.
<p class="vspace"></p></li><li><strong>GND.</strong> Ground pins.  
</li></ul><p class="vspace"></p><h3>Memory</h3>
<p>The <span class="wikiword">ATmega1280</span> has 128 KB of flash 
memory for storing code (of which 4 KB is used for the bootloader), 8 KB
 of SRAM and 4 KB of EEPROM (which can be read and written with the <a 
class="urllink" href="http://www.arduino.cc/en/Reference/EEPROM" 
rel="nofollow">EEPROM library</a>).
</p>
<p class="vspace"></p><h3>Input and Output</h3>
<p>Each of the 54 digital pins on the Mega can be used as an input or 
output, using <a class="wikilink" 
href="http://arduino.cc/en/Reference/PinMode">pinMode()</a>, <a 
class="wikilink" href="http://arduino.cc/en/Reference/DigitalWrite">digitalWrite()</a>,
 and <a class="wikilink" 
href="http://arduino.cc/en/Reference/DigitalRead">digitalRead()</a> 
functions.  They operate at 5 volts.  Each pin can provide or receive a 
maximum of 40 mA and has an internal pull-up resistor (disconnected by 
default) of 20-50 kOhms.  In addition, some pins have specialized 
functions:
</p>
<p class="vspace"></p><ul><li><strong>Serial: 0 (RX) and 1 (TX); Serial 
1: 19 (RX) and 18 (TX); Serial 2: 17 (RX) and 16 (TX); Serial 3: 15 (RX)
 and 14 (TX).</strong>  Used to receive (RX) and transmit (TX) TTL 
serial data.  Pins 0 and 1 are also connected to the corresponding pins 
of the FTDI USB-to-TTL Serial chip.  
<p class="vspace"></p></li><li><strong>External Interrupts: 2 (interrupt
 0), 3 (interrupt 1), 18 (interrupt 5), 19 (interrupt 4), 20 (interrupt 
3), and 21 (interrupt 2).</strong> These pins can be configured to 
trigger an interrupt on a low value, a rising or falling edge, or a 
change in value.  See the <a class="wikilink" 
href="http://arduino.cc/en/Reference/AttachInterrupt">attachInterrupt()</a>
 function for details.
<p class="vspace"></p></li><li><strong>PWM: 0 to 13.</strong>  Provide 
8-bit PWM output with the <a class="wikilink" 
href="http://arduino.cc/en/Reference/AnalogWrite">analogWrite()</a> 
function.  
<p class="vspace"></p></li><li><strong>SPI: 50 (MISO), 51 (MOSI), 52 
(SCK), 53 (SS).</strong>  These pins support SPI communication, which, 
although provided by the underlying hardware, is not currently included 
in the Arduino language.  The SPI pins are also broken out on the ICSP 
header, which is physically compatible with the Duemilanove and 
Diecimila.
<p class="vspace"></p></li><li><strong>LED: 13.</strong> There is a 
built-in LED connected to digital pin 13.  When the pin is HIGH value, 
the LED is on, when the pin is LOW, it's off.
<p class="vspace"></p></li><li><strong>I<sup>2</sup>C: 20 (SDA) and 21 
(SCL).</strong>  Support I<sup>2</sup>C (TWI) communication using the <a
 class="urllink" 
href="http://wiring.org.co/reference/libraries/Wire/index.html" 
rel="nofollow">Wire library</a> (documentation on the Wiring website).  
Note that these pins are not in the same location as the I<sup>2</sup>C 
pins on the Duemilanove or Diecimila.
</li></ul><p class="vspace"></p><p>The Mega has 16 analog inputs, each 
of which provide 10 bits of resolution (i.e. 1024 different values).  By
 default they measure from ground to 5 volts, though is it possible to 
change the upper end of their range using the AREF pin and 
analogReference() function. 
</p>
<p class="vspace"></p><p>There are a couple of other pins on the board:
</p>
<p class="vspace"></p><ul><li><strong>AREF.</strong> Reference voltage 
for the analog inputs.  Used with <a class="wikilink" 
href="http://arduino.cc/en/Reference/AnalogReference">analogReference</a>().
<p class="vspace"></p></li><li><strong>Reset.</strong> Bring this line 
LOW to reset the microcontroller.  Typically used to add a reset button 
to shields which block the one on the board.
</li></ul><p class="vspace"></p><h3>Communication</h3>
<p>The Arduino Mega has a number of facilities for communicating with a 
computer, another Arduino, or other microcontrollers.  The <span 
class="wikiword">ATmega1280</span> provides four hardware <span 
class="wikiword">UARTs</span> for TTL (5V) serial communication.  An 
FTDI <span class="wikiword">FT232RL</span> on the board channels one of 
these over USB and the <a class="urllink" 
href="http://www.ftdichip.com/Drivers/VCP.htm" rel="nofollow">FTDI 
drivers</a> (included with the Arduino software) provide a virtual com 
port to software on the computer.  The Arduino software includes a 
serial monitor which allows simple textual data to be sent to and from 
the Arduino board.  The RX and TX <span class="wikiword">LEDs</span> on 
the board will flash when data is being transmitted via the FTDI chip 
and USB connection to the computer (but not for serial communication on 
pins 0 and 1).
</p>
<p class="vspace"></p><p>A <a class="urllink" 
href="http://www.arduino.cc/en/Reference/SoftwareSerial" rel="nofollow">SoftwareSerial
 library</a> allows for serial communication on any of the Mega's 
digital pins.
</p>
<p class="vspace"></p><p>The <span class="wikiword">ATmega1280</span> 
also supports <span class="wikiword">I2C</span> (TWI) and SPI 
communication.  The Arduino software includes a Wire library to simplify
 use of the <span class="wikiword">I2C</span> bus; see the <a 
class="urllink" 
href="http://wiring.org.co/reference/libraries/Wire/index.html" 
rel="nofollow">documentation on the Wiring website</a> for details.  To 
use the SPI communication, please see the <span class="wikiword">ATmega1280</span>
 datasheet.
</p>
<p class="vspace"></p><h3>Programming</h3>
<p>The Arduino Mega can be programmed with the Arduino software (<a 
class="wikilink" href="http://arduino.cc/en/Main/Software">download</a>).
  For details, see the <a class="wikilink" 
href="http://arduino.cc/en/Reference/HomePage">reference</a> and <a 
class="wikilink" href="http://arduino.cc/en/Tutorial/HomePage">tutorials</a>.
</p>
<p class="vspace"></p><p>The <span class="wikiword">ATmega1280</span> on
 the Arduino Mega comes preburned with a <a class="wikilink" 
href="http://arduino.cc/en/Tutorial/Bootloader">bootloader</a> that 
allows you to upload new code to it without the use of an external 
hardware programmer.  It communicates using the original <span 
class="wikiword">STK500</span> protocol (<a class="urllink" 
href="http://www.atmel.com/dyn/resources/prod_documents/doc2525.pdf" 
rel="nofollow">reference</a>, <a class="urllink" 
href="http://www.atmel.com/dyn/resources/prod_documents/avr061.zip" 
rel="nofollow">C header files</a>).
</p>
<p class="vspace"></p><p>You can also bypass the bootloader and program 
the microcontroller through the ICSP (In-Circuit Serial Programming) 
header; see <a class="wikilink" 
href="http://arduino.cc/en/Hacking/Programmer">these instructions</a> 
for details.
</p>
<p class="vspace"></p><h3>Automatic (Software) Reset</h3>
<p>Rather then requiring a physical press of the reset button before an 
upload, the Arduino Mega is designed in a way that allows it to be reset
 by software running on a connected computer.  One of the hardware flow 
control lines (DTR) of the <span class="wikiword">FT232RL</span> is 
connected to the reset line of the <span class="wikiword">ATmega1280</span>
 via a 100 nanofarad capacitor.  When this line is asserted (taken low),
 the reset line drops long enough to reset the chip.  The Arduino 
software uses this capability to allow you to upload code by simply 
pressing the upload button in the Arduino environment.  This means that 
the bootloader can have a shorter timeout, as the lowering of DTR can be
 well-coordinated with the start of the upload.  
</p>
<p class="vspace"></p><p>This setup has other implications.  When the 
Mega is connected to either a computer running Mac OS X or Linux, it 
resets each time a connection is made to it from software (via USB).  
For the following half-second or so, the bootloader is running on the 
Mega.  While it is programmed to ignore malformed data (i.e. anything 
besides an upload of new code), it will intercept the first few bytes of
 data sent to the board after a connection is opened.  If a sketch 
running on the board receives one-time configuration or other data when 
it first starts, make sure that the software with which it communicates 
waits a second after opening the connection and before sending this 
data.
</p>
<p class="vspace"></p><p>The Mega contains a trace that can be cut to 
disable the auto-reset.  The pads on either side of the trace can be 
soldered together to re-enable it.  It's labeled "RESET-EN".  You may 
also be able to disable the auto-reset by connecting a 110 ohm resistor 
from 5V to the reset line; see <a class="urllink" 
href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1213719666/all" 
rel="nofollow">this forum thread</a> for details.
</p>
<p class="vspace"></p><h3>USB Overcurrent Protection</h3>
<p>The Arduino Mega has a resettable polyfuse that protects your 
computer's USB ports from shorts and overcurrent.  Although most 
computers provide their own internal protection, the fuse provides an 
extra layer of protection.  If more than 500 mA is applied to the USB 
port, the fuse will automatically break the connection until the short 
or overload is removed.  
</p>
<p class="vspace"></p><h3>Physical Characteristics and Shield 
Compatibility</h3>
<p>The maximum length and width of the Mega PCB are 4 and 2.1 inches 
respectively, with the USB connector and power jack extending beyond the
 former dimension.  Three screw holes allow the board to be attached to a
 surface or case.  Note that the distance between digital pins 7 and 8 
is 160 mil (0.16"), not an even multiple of the 100 mil spacing of the 
other pins.
</p>
<p class="vspace"></p><p>The Mega is designed to be compatible with most
 shields designed for the Diecimila or Duemilanove.  Digital pins 0 to 
13 (and the adjacent AREF and GND pins), analog inputs 0 to 5, the power
 header, and ICSP header are all in equivalent locations.  Further the 
main UART (serial port) is located on the same pins (0 and 1), as are 
external interrupts 0 and 1 (pins 2 and 3 respectively).  SPI is 
available through the ICSP header on both the Mega and Duemilanove / 
Diecimila.  <em>Please note that I<sup>2</sup>C is not located on the 
same pins on the Mega (20 and 21) as the Duemilanove / Diecimila (analog
 inputs 4 and 5).</em>
</p>
<p class="vspace"></p><p><em>Photo of the Arduino Mega by <span 
class="wikiword">SpikenzieLabs</span>.</em>
</p>
</div>


<!-- AddThis Button BEGIN -->
<script type="text/javascript">var addthis_language = "en";
</script>
<div class="addthis_container addthis_toolbox addthis_default_style" 
addthis:url="http://arduino.cc/en/Main/ArduinoBoardMega" 
addthis:title="Arduino Wiki English">
<a 
href="http://www.addthis.com/bookmark.php?v=250&amp;username=arduinoteam"
 class="addthis_button_compact at300m"><span class="at300bs 
at15t_compact"></span>Share</a><span class="addthis_separator">|</span><a
 title="Email" class="addthis_button_email at300b"><span class="at300bs 
at15t_email"></span></a><a title="Save to Favorites" 
class="addthis_button_favorites at300b"><span class="at300bs 
at15t_favorites"></span></a><a title="Print" class="addthis_button_print
 at300b"><span class="at300bs at15t_print"></span></a><a title="Send to 
Facebook" target="_blank" 
href="http://www.addthis.com/bookmark.php?v=250&amp;winname=addthis&amp;pub=arduinoteam&amp;source=tbx-250&amp;lng=en&amp;s=facebook&amp;url=http%3A%2F%2Farduino.cc%2Fen%2FMain%2FArduinoBoardMega&amp;title=Arduino%20Wiki%20English&amp;ate=AT-arduinoteam/-/pz-2/4c9ce8c75002ef02/1&amp;CXNID=2000001.5215456080540439074NXC&amp;pre=http%3A%2F%2Farduino.cc%2Fen%2FMain%2FHardware&amp;tt=0"
 class="addthis_button_facebook at300b"><span class="at300bs 
at15t_facebook"></span></a><a title="Tweet This" target="_blank" 
class="addthis_button_twitter at300b"><span class="at300bs 
at15t_twitter"></span></a><script type="text/javascript" src="ArduinoBoardMega_fichiers/addthis_widget.js"></script><div
 class="atclear"></div></div>
<!-- AddThis Button END -->

</div>
<!--PageFooterFmt-->
<div id="pagefooter">
  <a href="http://arduino.cc/en/Main/ArduinoBoardMega?action=edit">Edit 
Page</a> | <a 
href="http://arduino.cc/en/Main/ArduinoBoardMega?action=diff">Page 
History</a> | <a 
href="http://arduino.cc/en/Main/ArduinoBoardMega?action=print" 
target="_blank">Printable View</a> | <a 
href="http://arduino.cc/en/Site/AllRecentChanges">All Recent Site 
Changes</a>
</div>
<!--/PageFooterFmt-->
</div>
</body></html>